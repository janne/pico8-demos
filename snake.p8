pico-8 cartridge // http://www.pico-8.com
version 27
__lua__
-- snake

function _init()
  snake={{x=10,y=10}}
  dir=1
  tick=0
  apple={x=20,y=20}
  length=5
  cmds={}
end

function _draw()
  cls(1)
  for s in all(snake) do
   spr(1,s.x*4,s.y*4)
  end
  spr(2,apple.x*4,apple.y*4)
end

function move()
 local curr=snake[#snake]
 local head={x=curr.x,y=curr.y}
 if(dir==⬅️) head.x-=1
 if(dir==➡️) head.x+=1
 if(dir==⬆️) head.y-=1
 if(dir==⬇️) head.y+=1
 
 local color=pget(head.x*4+1,head.y*4+1)

 if(color==1) then
  if(#snake<length) then
   add(snake,head)
  else
	  local new={}
		 for i=2,#snake do
		  add(new,snake[i])
		 end
		 add(new,head)
		 snake=new
		end
 elseif(color==14) then
	 repeat
	  apple={x=flr(rnd(40)),y=flr(rnd(40))}
	 until(pget(apple.x*4+1,apple.y*4+1)==1)
  add(snake,head)
  sfx(0)
  length+=3
 else
  sfx(1)
  _init()
 end
end

function _update()
	tick+=1
	if(#cmds<5) then
	 local last=cmds[#cmds] or dir
	 if(btnp(⬅️) and last!=➡️) then add(cmds,⬅️)
	 elseif(btnp(➡️) and last!=⬅️) then add(cmds,➡️) 
	 elseif(btnp(⬆️) and last!=⬇️) then add(cmds,⬆️) 
	 elseif(btnp(⬇️) and last!=⬆️) then add(cmds,⬇️) end
 end
 local speed=8-flr(#snake/20)
	if(tick%speed==0) then
	 if(#cmds>0) then
	  dir=cmds[1]
	  del(cmds,dir)
	 end
		move()
	end
end
__gfx__
00000000066000000880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000676d00008e82000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700666d00008882000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000770000dd000000220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__label__
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111661166116611661166116611111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111111111111111676d676d676d676d676d676d1111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111111111111111666d666d666d666d666d666d1111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111dd11dd11dd11dd11dd11dd11111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111661111111111111111116611111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111111111111111676d1111111111111111676d1111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111111111111111666d1111111111111111666d1111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111dd111111111111111111dd11111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111661111111111111111116611111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111111111111111676d1111111111111111676d1111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111111111111111666d1111111111111111666d1111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111dd111111111111111111dd11111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111661166111111111111116611111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111111111111111676d676d111111111111676d1111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111111111111111666d666d111111111111666d1111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111dd11dd11111111111111dd11111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111166111111111111116611111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111676d111111111111676d1111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111666d111111111111666d1111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111111111111111111dd11111111111111dd11111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111166111111111111116611111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111676d111111111111676d1111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111666d111111111111666d1111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111111111111111111dd11111111111111dd11111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111166111111111111116611111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111676d111111111111676d1111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111666d111111111111666d1111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111111111111111111dd11111111111111dd11111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111166111111111111116611111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111676d111111111111676d1111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111666d111111111111666d1111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111111111111111111dd11111111111111dd11111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111166111111111111116611111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111676d111111111111676d1111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111666d111111111111666d1111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111111111111111111dd11111111111111dd11111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111116611111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111676d1111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111666d1111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111dd11111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111188111111111111116611111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111111111111111118e82111111111111676d1111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111111111111111118882111111111111666d1111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111111111111111111112211111111111111dd11111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111116611111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111676d1111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111666d1111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111dd11111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111116611111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111676d1111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111666d1111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111dd11111111111111111111111111111
11111111111111111111111111111111111116611111111111111111111111111111111111111111111111111111111116611111111111111111111111111111
111111111111111111111111111111111111676d11111111111111111111111111111111111111111111111111111111676d1111111111111111111111111111
111111111111111111111111111111111111666d11111111111111111111111111111111111111111111111111111111666d1111111111111111111111111111
1111111111111111111111111111111111111dd1111111111111111111111111111111111111111111111111111111111dd11111111111111111111111111111
11111111111111111111111111111111111116611661166116611661166116611661166116611661166116611661166116611111111111111111111111111111
111111111111111111111111111111111111676d676d676d676d676d676d676d676d676d676d676d676d676d676d676d676d1111111111111111111111111111
111111111111111111111111111111111111666d666d666d666d666d666d666d666d666d666d666d666d666d666d666d666d1111111111111111111111111111
1111111111111111111111111111111111111dd11dd11dd11dd11dd11dd11dd11dd11dd11dd11dd11dd11dd11dd11dd11dd11111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111

__sfx__
010800001255200502105521055210542105321052210512005020050200502005020050200502005020050200502005020050200502005020050200502005020050200502005020050200502005020050200502
0110000014052000020f052000020a0520a0520a0520a052000020000200002000020000200002000020000200002000020000200002000020000200002000020000200002000020000200002000020000200002
